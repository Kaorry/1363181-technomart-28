var feedbackPopup=document.querySelector(".modal-feedback"),nameFeedback=document.getElementById("order-name"),emailFeedback=document.getElementById(".order-email");if(feedbackPopup){var feedbackLink=document.querySelector(".feedback-link"),feedbackClose=feedbackPopup.querySelector(".modal-close"),feedbackForm=feedbackPopup.querySelector(".feedback-form"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal-show"),storage?(nameFeedback.value=storage,emailFeedback.focus()):nameFeedback.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("modal-show")}),feedbackForm.addEventListener("submit",function(e){nameFeedback&&emailFeedback?isStorageSupport&&localStorage.setItem("name",nameFeedback.value):e.preventDefault()})}var mapClose,mapPopup=document.querySelector(".modal-map"),mapLink=document.querySelector(".map-link");mapPopup&&mapLink&&(mapClose=mapPopup.querySelector(".modal-close"),mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}));var cartLink=document.querySelectorAll(".button-buy"),cartPopup=document.querySelector(".modal-cart");if(cartPopup&&cartLink){for(var cartClose=cartPopup.querySelector(".modal-close"),i=0;i<cartLink.length;i++)cartLink[i].addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.add("modal-show")});cartClose.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")})}var buttonsArray=document.querySelectorAll(".service-toggle button"),slidesArray=document.querySelectorAll(".service-description .slide-description");if(0<buttonsArray.length&&buttonsArray.length===slidesArray.length)for(var clearCurrent=function(){document.querySelector(".service-toggle .current").classList.remove("current"),document.querySelector(".service-description .slide-current").classList.remove("slide-current")},i=0;i<buttonsArray.length;i++)buttonsArray[i].addEventListener("click",function(e){!1===e.target.classList.contains("current")&&(clearCurrent(),buttonsArray[i].classList.add("current"),slidesArray[i].classList.add("slide-current"))});var toggleSlide,galleryArray=document.querySelectorAll(".slider .slide"),slideStateArray=document.querySelectorAll(".slider-state .slide-state"),backwardButton=document.querySelector(".slider .control-backward"),forwardButton=document.querySelector(".slider .control-forward");0<galleryArray.length&&galleryArray.length===slideStateArray.length&&(toggleSlide=function(){for(i=0;i<galleryArray.length;i++)galleryArray[i].classList.toggle("slide-current"),slideStateArray[i].classList.toggle("current")},forwardButton.addEventListener("click",toggleSlide),backwardButton.addEventListener("click",toggleSlide)),window.addEventListener("keydown",function(e){var t;27!==e.keyCode||(t=document.querySelector(".modal-show"))&&(e.preventDefault(),t.classList.remove("modal-show"))});